#ifndef OBJECT_HPP
#define OBJECT_HPP

#include "../types.h"
#include "../bitwise.h"
#include <string>

namespace kk3d {

/**
 * \mainpage Koder Kit 3D
 * A simple graphics library catering to OpenGL development that handles the management and rendering of models.
 * The library also includes many math objects and features.
 */

/**
 * \brief The basic object in KK3D.
 * Contains only the name, parent, and ID values of the object. When setting the parent objects be careful of recursive errors.
 * This is the basic class from which all other objects are derived.
 */
class Object {
protected:
    uint _flags;                                        /**< The flags set. */
    Object *_parent;                                    /**< The parent of the object. */
    std::string *_name;                                 /**< The name of the object. The pointer is owned. */
    uint _type;                                         /**< The type flags of the object. */
    int _id;                                            /**< The ID value of object. */

public:
    static const uint OBJECT_FLAG_VISIBLE = 1;         /**< If the object is visible in rendering. Used for OpenGL objects. */

    static const uint OBJECT_TYPE_TRANSFORMS = 1;      /**< Object contains transformation data. */
    static const uint OBJECT_TYPE_VIEW = 2;            /**< Object contains a view matrix. View matrix is an inverted transformation matrix. */
    static const uint OBJECT_TYPE_GLMATRIX = 4;        /**< Object contains a complete GL matrix. This contains the parent transformations as well. */

    /**
     * \brief Basic constructor.
     * No values are set, this creates a blank GL object.
     */
    Object();
    /**
     * \brief Basic constructor setting some values.
     * The constructor sets only the parent and ID of the object.
     * @param p The parent object of this object.
     * @param i The ID of the object.
     */
    Object(Object *p, int i);
    /**
     * \brief Basic constructor setting some values.
     * The constructor sets only the parent object and the name.
     * @param p The parent object of this object.
     * @param n The name of the object.
     */
    Object(Object *p, std::string n);
    /**
     * \brief Basic destructor.
     * Clears the data generated by the object.
     */
    ~Object();

    /**
     * \brief Sets the parent of the object.
     * Sets the parent object used to modify this object. Be careful of recursive errors.
     * @param p The parent object of this object.
     */
    void setParent(Object *p);
    /**
     * \brief Gets the parent object.
     * Gets the parent object used to modify this object.
     * @return The parent object of this object.
     */
    Object *getParent();
    /**
     * \brief Sets the flags.
     * Sets the binary flags contained in the value passed. This does not alter the flags already set.
     * @param f Flags to be set.
     */
    void setFlags(uint f);
    /**
     * \brief Clears the flags.
     * Clears the binary flags contained in the value passed. This does not alter any other flags.
     * @param f Flags to be cleared.
     */
    void clearFlags(uint f);
    /**
     * \brief Returns the flags set.
     * Returns the flags set.
     * @return The flags of the object.
     */
    uint getFlags();
    /**
     * \brief Sets the name object.
     * Sets the name object. A new string object is created by this object to store the name.
     * The name object created by this object is deleted by this object if destroyed.
     * @param n The name of this object.
     */
    void setName(std::string n);
    /**
     * \brief Gets the name of this object.
     * Gets the name of this object. The pointer is owned and managed by the object. Modyfing the contents of
     * the pointer will modify the name. Do not delete this pointer.
     * @return The name of this object.
     */
    std::string *getName();
    /**
     * \brief Gets the read-only flags describing the object.
     * The flags returned by this are set by the object constructor describing what the object contains.
     * This can be used to identify the object as well.
     * @return The flags describing the contents of the object.
     */
    uint getTypeFlags();
    /**
     * \brief Set the ID value.
     * The ID of the object is an optional method of locating objects within the managers.
     * @param i The ID value.
     */
    void setID(int i);
    /**
     * \brief Get the ID value.
     * The ID value is the best method of indexing the objects in managers.
     * @return The ID value set.
     */
    int getID();
};

}
#endif // OBJECT_3D_HPP
